# ELF Program Headers

These headers describe segments with a binary. These are needed at **load time** to form the memory layout. Hence, relocatable ELF files do not have program headers (linux loadable kernel modules are an exception).

```c
typedef struct {
  uint32_t p_type; /* segment type */
  Elf32_Off p_offset; /* segment offset */
  Elf32_Addr p_vaddr; /* segment virtual address */
  Elf32_Addr p_paddr; /* segment physical address */
  uint32_t p_filesz; /* size of segment in the file */
  uint32_t p_memsz; /* size of segment in memory */
  uint32_t p_flags; /* segment flags, I.E execute|read|read */
  uint32_t p_align; /* segment alignment in memory */
} Elf32_Phdr; /* A single entry in the program header table */
```

These are the common types of segments:

1. **PT\_LOAD**: _Loadable_ segment. These segments are the ones that are to be loaded or mapped into memory. Code and data reside in such segments. All executables will generally have these two segments.
2. **PT\_DYNAMIC**: _Dynamic_ segment. These segments are present in those ELF files that are dynamically linked. These contain information necessary for the dynamic linker. Examples of dynamic segments include symbol hash table, string table, symbol table, relocation table, initiatization and termination functions, name of a shared object, address of GOT (Global Offset Table), etc.
3. **PT\_NOTE**: This segment generally contains vendor/system related auxiliary information.
4. **PT\_INTERP**: This segment only contains the address (and size) of a string representing the program interpreter (generally the dynamic linker 'linux-ld.so.2')
5. **PT\_PHDR**: This segment contains the address (and size) of the program table itself.
