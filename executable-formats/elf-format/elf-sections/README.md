# ELF Sections

Each segment is divided into various sections. The section header table describes these sections. This information is primarily needed for linking and debugging purposes. The program can by run even after 'stripping' section headers. Each section contains either code or data (including meta data).

```c
typedef struct {
  uint32_t sh_name; /* offset into shdr string table for shdr name */
  uint32_t sh_type; /* shdr type I.E SHT_PROGBITS */
  uint32_t sh_flags; /* shdr flags I.E SHT_WRITE|SHT_ALLOC */
  Elf32_Addr sh_addr; /* address of where section begins */
  Elf32_Off sh_offset; /* offset of shdr from beginning of file */
  uint32_t sh_size; /* size that section takes up on disk */
  uint32_t sh_link; /* points to another section */
  uint32_t sh_info; /* interpretation depends on section type */
  uint32_t sh_addralign; /* alignment for address of section */
  uint32_t sh_entsize; /* size of each certain entries that may be in section */
} Elf32_Shdr;
```

Note that only the 'section header' table is not needed for execution, not the 'sections'.

Some common section types within **text segment**:

1. **.text**: _Code_ section.
2. **.rodata**: _Read only data_ section. This includes strings, etc.
3. **.plt**: _Procedure linkage table_ section. Contains meta information needed by the dynamic linker to import functions from shared libraries.
4. **.dynsym**: _Dynamic symbol_ information. These symbols are the ones imported from shared libraries.
5. **dynstr**: The string table for dynamic symbols. Contains name of each symbol in a series of null terminated strings.
6. **.hash** / **.gnu.hash**: This section contains a hash table for symbol lookup
7. **.rel.\***: The relocation section contains information about the changes to be done in existing ELF at linking or at runtime (such as adjusting addresses).

Some common section types with **data segment**:

1. **.data**: This data section contains data such as **initialized** global variables.
2. **.bss**: This section contains unitialized global data. This takes up no storage on disk. During loading, all this daa is initialized with '0' bytes.
3. **.got.plt**: This contains the global offset table, used in conjuction with the PLT by the dynamic linker to import functions from shared libraries.

**.symtab**: The symbol table. **.strtab**: The symbol string table. **.shstrtab**: The section header string table. Contains strings such as ".text", etc.
